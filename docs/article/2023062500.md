---
title: 个人微信接入 ChatGPT 成为聊天机器人
icon: creative
date: 2023-06-25 00:08:11
category:
  - 文章
tag:
  - GoLang
  - ChatGPT
  - Wechat
star: true
---
​

## 概要

今年 ChatGPT 火得一塌糊涂，大量专家说程序员要被 AI 替代，AI 要统治人类。虽然我觉得有点夸大其词，暂时对我影响还不大，不过既然有新东西出来，还是得玩一下，免得真的年纪大了慢慢被淘汰。所以注册了一个 openai 的账号，具体注册步骤网上很多，我下面会贴几个链接给大家参考。然后刚好我一直养着一个在美国的 VPS，基本上没怎么用，偶尔用来翻翻墙。VPS 服务商是 Linode，也不贵，10美元一个月，下面有链接，大家有需要可以去注册玩一下。并且我有一个微信小号，索性用来对接 ChatGPT 做聊天机器人，这样就可以不用翻墙就能问问题。下面说一下具体的过程和相关的资料。

<https://www.linode.com/lp/refer/?r=a17465df3cd13599a6c4c1397c3f4247a88e0527>

## 注册 openai 账号

要注册 openai 账号，首先得翻墙，现在的翻墙工具大部分不太好用，也可能是广东这边墙得特别厉害，免费的就不说了，大概把 ExpressVPN、Private Internet Access、Pure VPN、Surfshark都试了下，只有Surfshark偶尔能连上欧洲小国家。NordVPN 倒是没是，不过好像以前试过也效果不好。  

我现在用的是一个香港的服务商，叫威伯斯云，没有自己的客户端，用的是 CISCO 的客户端。能选择的区域只有香港和美国，不过只有连美国才能访问 `chat.openai.com`。平时用着虽然网速不怎么样，不过都能连上，也算比较稳定，一个 30 块钱。大家想用可以通过下面的链接，帮我攒些免费时长也好。  

<https://www.vps000.org/?ac=BB3F88&promote_id=155991>

成功翻墙了，那就开始注册 openai 的账号，网上教程很多，我也是通过别人的教程一步一步操作的，教程地址可以参考下面这个链接，已经说得非常详细了。记得当时虚拟手机号我是买的英国号码，能正常接收验证码。  

<https://juejin.cn/post/7203009064719400997>

## 绑定信用卡

刚注册的 openai 账号有18美元的 api 额度可以免费使用，当然也有时间限制，如果三个月内没用完，也会自动失效。我强烈建议刚注册完账号后马上就绑定信用卡。因为你都是翻墙使用 ChatGPT 的，他会检测你登录 IP 经常变，会将账号变成黑号，以后都基本上很难绑卡成功。我就是等用完免费额度再绑卡，导致绑卡失败，废了一个账号，后来重新又注册了一个新账号才绑卡成功。  

在注册新账号之前，我是通过下面这个方法购买虚拟信用卡的，用的服务商是 nobepay，好处是支持直接用支付宝充值，并且开通的卡片无需月租，只是每次至少充 500 人民币，并且每次卡片充值服务费要3%，稍稍有点高。好像很多人用 depay，服务费好像只要1.5%，但是不支持直接充值，必须要用 USDT 数字货币来充值，并且卡片每个月要 1 美元月租。  

<https://zhuanlan.zhihu.com/p/631997477>  

但是我有稍稍不同，我舍不得一次充值 500 元，所以我又注册了欧易数字货币交易平台，然后购买了 20 个 USDT 币，因为我暂时只是想绑卡，没打算开通 ChatGPT Plus，USDT 跟美元基本上是 1 : 1，20 美元扣除交易服务费和开卡服务费，差不多就剩 15 美元，再留两三次卡片被拒的试错机会，而 ChatGPT Plus 绑卡成功默认先扣 5 美元，所以 20 个 USDT 币真的是刚刚够用。如果要买 ChatGPT Plus，那至少要充 30 个 USDT 币。欧易数字货币的交易平台注册地址如下，当然链接里包含了我的推荐码，我也不知道有什么奖励。

<https://okx.com/join/69493776>

虽然我是自己摸索出来的，不过我给大家找了一个操作教程，里面详细说了怎么注册欧易，怎么充值，怎么提币到 depay，当然 nobepay 也是类似的。

<https://5best1s.com/okx%E8%B4%AD%E4%B9%B0usdt%E6%B3%B0%E8%BE%BE%E5%B8%81/>

如果上面的步骤成功了，成功绑定信用卡了，那恭喜你，你是幸运儿，可以跳过下面这些内容，直接看下一章节。  
我就没那么幸运了，ChatGPT 绑卡的时候一直提示卡片被拒绝，都换了几张卡了，还是不行，都要奔溃吐血了。经过大量搜索，得出的结论是我的账号已经是黑号了，能成功绑卡的机率几乎是 0 。然后我看了下面这篇文章，本来已经打算花 200 块钱让他帮忙注册新号并绑卡，但是好歹我还有两个 Gmail 邮箱，怀着侥幸的心理，先用其中一个邮箱再自己试一次，不行的话用另外一个邮箱找别人帮忙注册和绑卡。

<https://www.vpsdawanjia.com/6149.html>

最后，皇天不负有心人，真的让我绑卡成功了，最后点提交按钮时那个紧张啊，和提示成功后的那个喜悦啊，真的无法言表。  
其实上面链接说得很清楚，只要从注册到绑卡都在同一个 IP 环境，成功率是很大的。但我没完全按照上面文章的步骤去操作，因为我已经有虚拟电话号码，也已经有虚拟信用卡，就只剩绑卡这一步卡住了。所以我采纳了文章里的其中一个解决方案，就是**使用新的Windows远程桌面服务器重新注册一个ChatGPT帐号，用新卡、新帐号地址去开通**。具体远程桌面的注册步骤文章里有链接，我给大家重新贴一下。

<https://www.vpsdawanjia.com/6049.html>

服务商我也是用的 LightNode ，我就继续厚着脸皮把带邀请码的链接贴出来，说不定哪个好心人真的给我带来 10% 的佣金。

<https://www.lightnode.com/?inviteCode=0OCCN9&promoteWay=LINK>

到这里，想必大家都能成功绑卡了。顺便说下，我成功绑卡的虚拟信用卡卡头是558068。

## 个人微信接入 ChatGPT API

一开始我是有想过自己写代码的，但是我只会 Java ，而用 Java 只是为了实现 API 的内容转发，实在有点浪费服务器内存。我的 VPS 也就只有 2G 内存，本来就所剩无几了。  

然后开源是个好东西，我在 GitHub 上用wechat+chatgpt的关键字搜索相关项目，有用 TypeScript 实现的，有用 Python 实现的，并且支持文字语音图片，那个功能实在 niubility 。但我暂时只想做简单的文字聊天，所以最后选择了用 GoLang 写的一个项目。

<https://github.com/djun/wechatbot>

不过作者写完之后就没更新了，不支持最新的 GPT3.5 ,我就找了他的其中一个 fork 项目。

<https://github.com/qingconglaixueit/wechatbot>

这个项目倒是加了 GPT3.5 的支持，但是不知道作者为什么代码没完全写完就停更了。所以我这个只会 Java 的程序员简单学了下 GoLang 的语法，又 fork 了一个版本，把剩下的一丢丢功能写完，用上了 GPT3.5 。我的仓库地址如下。

<https://github.com/chcbz/wechatbot>

具体用法在README里有写，我在这里也单独贴一下。

```shell
# 获取项目
$ git clone https://github.com/chcbz/wechatbot.git

# 进入项目目录
$ cd wechatbot

# 复制配置文件
$ copy config.dev.json config.json

# 修改配置文件，填写自己的api_key
vi config.json

# 启动项目
$ go run wechatbotd.go

# 成功运行后即会显示二维码，用个人微信扫二维码登录即可
# 只要其他微信发信息给当前微信，即可得到ChatGPT答复

# 也可以通过以下命令后台运行
nohup go run wechatbotd.go > wechatbot.log 2>&1 &

# 然后通过日志文件查看二维码
cat wechatbot.log
```

至于怎么购买 VPS ，怎么安装 GoLang 环境，网上也是一搜一大堆，就不单独写了。

就这样，我的个人微信聊天机器人就可以愉快地聊天了。
